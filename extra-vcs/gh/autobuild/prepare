abinfo "Enabling trimpath for a reproducible build ..."
export GOFLAGS="${GOFLAGS} -trimpath"

abinfo "Setting other GOFLAGS ..."
export GOFLAGS="${GOFLAGS} -mod=readonly -modcacherw"

if [[ "${CROSS:-$ARCH}" != "loongson3" ]]; then
    abinfo "Enabling buildmode=pie ..."
    export GOFLAGS="${GOFLAGS} -buildmode=pie"
fi

abinfo "Setting linkmode to externel ..."
# Setting linkmode to external will resolve some symbolic error when testing.
export GOFLAGS="${GOFLAGS} -ldflags=-linkmode=external"
